# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class CostgraphAgent < Formula
  desc "VM agent for Costgraph"
  homepage "https://costgraph.baselinehq.cloud/"
  version "0.0.23"

  on_macos do
    if Hardware::CPU.intel?
      url "https://costgraph-agent-bin.s3.amazonaws.com/v0.0.23/costgraph-agent_v0.0.23_darwin_amd64.tar.gz"
      sha256 "bfc153342ded3d014cc2df7a9869091c23eba9f9abfc50effbf772445b1f10a7"

      def install
        bin.install "costgraph-agent"
        if OS.mac?
          if Hardware::CPU.arm?
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_arm64.dylib" => "libdarwin_exporter.dylib"
          else
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_amd64.dylib" => "libdarwin_exporter.dylib"
          end
        end
      end
    end
    if Hardware::CPU.arm?
      url "https://costgraph-agent-bin.s3.amazonaws.com/v0.0.23/costgraph-agent_v0.0.23_darwin_arm64.tar.gz"
      sha256 "9b259c2fca5dfae8d0f9db3e720889d4c6ae85364a417881a8a75e568f48b110"

      def install
        bin.install "costgraph-agent"
        if OS.mac?
          if Hardware::CPU.arm?
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_arm64.dylib" => "libdarwin_exporter.dylib"
          else
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_amd64.dylib" => "libdarwin_exporter.dylib"
          end
        end
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://costgraph-agent-bin.s3.amazonaws.com/v0.0.23/costgraph-agent_v0.0.23_linux_amd64.tar.gz"
      sha256 "ea310319c21ed05450f52b7f7bdf7b531db68e3b585c86463fb8b9e407eb2df7"
      def install
        bin.install "costgraph-agent"
        if OS.mac?
          if Hardware::CPU.arm?
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_arm64.dylib" => "libdarwin_exporter.dylib"
          else
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_amd64.dylib" => "libdarwin_exporter.dylib"
          end
        end
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://costgraph-agent-bin.s3.amazonaws.com/v0.0.23/costgraph-agent_v0.0.23_linux_arm64.tar.gz"
      sha256 "043a1abcbe26b857266412ee211cd21abad2fcf6a1dc6602418dbb8a59cc7219"
      def install
        bin.install "costgraph-agent"
        if OS.mac?
          if Hardware::CPU.arm?
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_arm64.dylib" => "libdarwin_exporter.dylib"
          else
            lib.install "internal/collectors/darwinexporter/libdarwin_exporter_amd64.dylib" => "libdarwin_exporter.dylib"
          end
        end
      end
    end
  end
end
